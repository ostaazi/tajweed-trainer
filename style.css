
:root{
  --bg:#0b1220; --fg:#e6edf3; --muted:#93a4b8; --accent:#60a5fa; --good:#22c55e; --bad:#ef4444;
  --chip1:#bfdbfe; --chip2:#e9d5ff; --chip3:#fde68a;
  --card:#0f172a; --card2:#111827; --border:#263244;
  --btn:#3b82f6; --btn2:#8b5cf6; --btn3:#ef4444;
  --pill:#1f2937; --shadow:0 6px 20px rgba(0,0,0,.25);
  --ayah: 'KFGQPC Uthmanic Script', 'Scheherazade New', 'Noto Naskh Arabic', serif;
}
html.light{
  --bg:#ffffff; --fg:#0b1220; --muted:#4b5563;
  --card:#f8fafc; --card2:#f3f4f6; --border:#e5e7eb;
  --shadow:0 3px 12px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
body{margin:0;font-family:ui-sans-serif,system-ui,Segoe UI,Arial; background:var(--bg); color:var(--fg)}
.container{max-width:980px;margin:20px auto;padding:16px}
.topbar{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;align-items:center}
.input, select{
  width:100%;padding:12px 14px;border-radius:10px;border:1px solid var(--border);background:var(--card);color:var(--fg);
}
.btn{border:0;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer;box-shadow:var(--shadow);}
.btn.short{background:var(--btn2);color:#fff}
.btn.full{background:var(--btn);color:#fff}
.btn.end{background:var(--btn3);color:#fff}
.hstack{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.legend{display:flex;gap:10px;align-items:center;margin-top:6px}
.badge{display:inline-flex;align-items:center;gap:8px;background:var(--pill);padding:6px 10px;border-radius:999px;font-size:12px;color:var(--fg)}
.dot{width:10px;height:10px;border-radius:50%}
.rule{height:1px;background:var(--border);margin:18px 0}
.count-row{display:flex;justify-content:space-between;align-items:center;margin-top:8px;color:var(--muted)}
.slider-wrap{margin-top:8px}
.tri{position:relative;height:36px;border-radius:12px;overflow:hidden;display:flex;box-shadow:var(--shadow);border:1px solid var(--border)}
.seg{height:100%;display:flex;align-items:center;justify-content:center;font-weight:700}
.seg:nth-child(1){background:var(--chip3);color:#1f2937}
.seg:nth-child(2){background:var(--chip2);color:#1f2937}
.seg:nth-child(3){background:var(--chip1);color:#1f2937}
.handle{position:absolute;top:0;width:12px;height:100%;background:var(--border);cursor:ew-resize}
.handle.h1{left:33%}
.handle.h2{left:66%}
.tip{font-size:12px;color:var(--muted);margin:8px 0}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:14px;margin:12px 0}
.qtext{font-size:20px;line-height:2.2;word-spacing:2px}
.ayah{font-family:var(--ayah);}
.ayah-target{color:#15803d !important;background:#dcfce7;border-radius:8px;padding:2px 6px;font-weight:800;font-size:1.35em}
.opts{display:grid;grid-template-columns:1fr;gap:10px;margin-top:10px}
.opt{display:flex;align-items:center;gap:10px;background:var(--card2);border:1px solid var(--border);padding:10px;border-radius:10px}
.end-row{display:flex;justify-content:flex-start;margin-top:10px}
.switch{justify-self:start}
.toggle{border:1px solid var(--border);background:var(--card2);color:var(--fg);border-radius:999px;padding:8px 12px;cursor:pointer}
.small{font-size:12px;color:var(--muted)}
